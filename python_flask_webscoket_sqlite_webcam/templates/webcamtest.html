<!DOCTYPE html>
<html>
<head>
    <title>Use Second Camera</title>
</head>
<body>
    <video id="video" width="320" height="240" autoplay></video>

    <script>
        let currentStream;
        let videoDevices = [];

        async function getMediaDevices() {
            const devices = await navigator.mediaDevices.enumerateDevices();
            return devices.filter(device => device.kind === 'videoinput');
        }

        async function startVideoStream(deviceId) {
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
            }
            currentStream = await navigator.mediaDevices.getUserMedia({ video: { deviceId: deviceId } });
            const video = document.getElementById('video');
            video.srcObject = currentStream;
            video.play();
        }

        async function init() {
            videoDevices = await getMediaDevices();
            if (videoDevices.length > 1) {
                await startVideoStream(videoDevices[1].deviceId); // 使用第二个摄像头
            } else {
                console.log('没有找到第二个摄像头。');
            }
        }

        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            init().catch(error => console.error('Error accessing media devices.', error));
        }
    </script>
</body>
</html>
